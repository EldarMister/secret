<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–µ–Ω—é | Jardamchy GO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <header class="app-header">
        <button id="backBtn" class="back-btn" style="display: none;" onclick="goHome()">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="app-title" id="pageTitle">Jardamchy GO üçî</div>
    </header>

    <div class="container" id="app">
        <!-- Loader -->
        <div id="loader" style="text-align: center; padding: 20px; display: none;">
            <i class="fas fa-spinner fa-spin fa-2x"></i>
        </div>

        <!-- Cafe List View -->
        <div id="cafeListView" class="view">
            <div class="search-bar">
                <input type="text" id="cafeSearch" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –∫–∞—Ñ–µ..."
                    oninput="filterCafes()">
            </div>
            <div id="cafeGrid" class="cafe-grid">
                <!-- Cafe cards will be injected here -->
            </div>
        </div>

        <!-- Menu View -->
        <div id="menuView" class="view" style="display: none;">
            <div id="categoryStrip" class="category-grid">
                <!-- Category cards -->
            </div>
            <div id="categoryBackBar" class="category-back" style="display:none;">
                <button class="back-btn inline" onclick="resetCategorySelection()">‚Üê –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
            </div>
            <div id="menuList" class="menu-list">
                <!-- Menu items will be injected here -->
            </div>
        </div>
    </div>

    <!-- Cart Bottom Bar -->
    <div id="cartBar" class="cart-bar">
        <div class="cart-info">
            <span class="cart-total" id="barTotal">0 —Å</span>
            <span class="cart-count" id="barCount">0 –±–ª—é–¥</span>
        </div>
        <button class="btn-primary" onclick="openCartModal()">–ö–æ—Ä–∑–∏–Ω–∞ <i class="fas fa-shopping-basket"></i></button>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>–í–∞—à –∑–∞–∫–∞–∑</h2>
                <button onclick="closeCartModal()"
                    style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); font-size: 1.4rem; color: var(--text-secondary); cursor: pointer; border-radius: 10px; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">&times;</button>
            </div>

            <div id="cartItemsList" style="display: flex; flex-direction: column; gap: 0; margin-bottom: 20px;">
                <!-- Items -->
            </div>

            <div style="border-top: 1px solid var(--border-glass); padding-top: 14px; margin-bottom: 20px;">
                <div
                    style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem; color: var(--text-primary);">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span id="cartModalTotal"
                        style="background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">0
                        —Å</span>
                </div>
            </div>

            <button id="submitOrderBtn" class="btn-success" onclick="submitOrder()">
                <i class="fas fa-check-circle"></i> –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content success-screen">
            <div style="margin-bottom: 10px;">
                <i class="fas fa-check-circle" style="color: var(--success); font-size: 4rem;"></i>
            </div>
            <h2>–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω!</h2>
            <p class="text-muted" style="margin-bottom: 20px;">–°–æ–æ–±—â–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –±–æ—Ç—É</p>

            <div class="order-code" id="successOrderCode">...</div>

            <p style="margin-bottom: 20px; color: var(--text-secondary);">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤
                WhatsApp</p>

            <a id="whatsappLink" href="#" class="btn-success" target="_blank">
                <i class="fab fa-whatsapp"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp
            </a>

            <button onclick="closeSuccessModal()"
                style="background: none; border: none; color: var(--text-muted); margin-top: 20px; text-decoration: underline; cursor: pointer; font-family: 'Inter', sans-serif;">
                –Ø –æ—Ç–ø—Ä–∞–≤–∏–ª(–∞)
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>
